<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 10 Biology Quiz</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Poppins (Bold & Beautiful) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Professional Dark Theme & UI with Poppins Font */
        body {
            background-color: #121212;
            color: #E0E0E0;
            font-family: 'Poppins', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .card {
            background-color: #1E1E1E;
            border-radius: 1.5rem; /* 2xl */
            box-shadow: 0 20px 30px -10px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .accent-text { color: #BB86FC; }
        
        .accent-gradient-btn {
            background-image: linear-gradient(to right, #03DAC6, #018786);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-weight: 600;
        }
        .accent-gradient-btn:hover:not(:disabled) {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 12px 24px rgba(3, 218, 198, 0.25);
        }
        .accent-gradient-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .input-field {
            background-color: #2c2c2c;
            border: 1px solid #444;
            color: #E0E0E0;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        .input-field:focus {
            outline: none;
            border-color: #BB86FC;
            box-shadow: 0 0 0 4px rgba(187, 134, 252, 0.15);
        }

        .glowing-radio-label {
            transition: all 0.3s ease;
            border: 1px solid #333;
            font-weight: 600;
        }
        .glowing-radio-label:hover {
            background-color: #2a2a2a;
            border-color: #444;
        }
        input[type="radio"]:checked + .glowing-radio-label {
            background-color: #3a324e;
            border-color: #BB86FC;
            box-shadow: 0 0 15px rgba(187, 134, 252, 0.2);
        }
        input[type="radio"] { display: none; }

        .quiz-option {
            border: 1px solid #444;
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 500;
        }
        .quiz-option:hover {
            background-color: #2c2c2c;
            border-color: #BB86FC;
        }
        .quiz-option.selected {
            background-color: #3a324e;
            border-color: #BB86FC;
            transform: scale(1.03);
        }
        
        .screen {
            display: none;
            animation: fadeIn 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(25px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .loader {
            border: 4px solid rgba(255, 255, 255, 0.2);
            border-top: 4px solid #BB86FC;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-bar-bg { background-color: #333; }
        .progress-bar-fg {
            background: linear-gradient(to right, #BB86FC, #8a3ffc);
            transition: width 0.4s ease-out;
        }
        
        @keyframes tick {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(8deg); }
        }
        .ticking { animation: tick 2s infinite ease-in-out; }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <main id="app-container" class="w-full max-w-3xl">
        
        <!-- Screen 1: Language Selection -->
        <div id="lang-screen" class="screen card p-8 text-center">
            <h1 class="text-3xl font-bold mb-8">Choose Your Language</h1>
            <div class="space-y-4">
                <input type="radio" id="lang-en" name="language" value="en">
                <label for="lang-en" class="glowing-radio-label flex items-center justify-center p-4 rounded-2xl cursor-pointer">
                    <span class="text-xl">English</span>
                </label>
                
                <input type="radio" id="lang-hi" name="language" value="hi">
                <label for="lang-hi" class="glowing-radio-label flex items-center justify-center p-4 rounded-2xl cursor-pointer">
                    <span class="text-xl">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</span>
                </label>
            </div>
            <button id="lang-next-btn" class="mt-8 w-full text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 accent-gradient-btn" disabled>
                <span id="lang-next-text">Next</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
        </div>

        <!-- Screen 2: Name Input -->
        <div id="name-screen" class="screen card p-8 text-center">
            <h1 id="name-prompt" class="text-3xl font-bold mb-6">What‚Äôs your name?</h1>
            <input type="text" id="name-input" class="input-field w-full p-4 text-center text-xl rounded-xl" placeholder="e.g., Aisha, Rahul, Zoe">
            <button id="start-quiz-btn" class="mt-8 w-full text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 accent-gradient-btn" disabled>
                <span id="start-quiz-text">Start Quiz</span>
                 <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="m10 8 6 4-6 4z"/></svg>
            </button>
        </div>

        <!-- Screen 3: Quiz Interface -->
        <div id="quiz-screen" class="screen">
            <div class="sticky top-0 z-10 card p-4 mb-6">
                <div class="flex justify-between items-center mb-3">
                    <div id="question-counter" class="font-bold text-lg"></div>
                    <div id="timer-container" class="flex items-center space-x-2 text-lg font-bold">
                        <svg id="timer-icon" class="ticking" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></svg>
                        <span id="timer">30:00</span>
                    </div>
                </div>
                <div class="w-full progress-bar-bg rounded-full h-2.5">
                    <div id="progress-bar" class="progress-bar-fg h-2.5 rounded-full" style="width: 0%"></div>
                </div>
            </div>
            
            <div class="card p-8">
                <h2 id="question-text" class="text-2xl font-semibold mb-8 leading-relaxed"></h2>
                <div id="options-container" class="space-y-4"></div>
                <div class="flex justify-between mt-8">
                     <button id="submit-btn" class="w-full text-white py-3 px-4 rounded-xl flex items-center justify-center gap-2 accent-gradient-btn">
                        <span id="submit-btn-text">Submit Quiz</span>
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Screen 4: Results Page -->
        <div id="result-screen" class="screen card p-8">
            <div class="text-center">
                <h1 id="result-summary-title" class="text-4xl font-bold mb-2">Quiz Summary</h1>
                <p class="text-lg mb-6"><span id="result-greeting">Well done,</span> <span id="result-name" class="font-bold accent-text"></span>!</p>
                <p id="telegram-status" class="text-sm text-gray-400 h-5"></p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center my-8">
                 <div class="card p-4 flex flex-col items-center justify-center">
                    <canvas id="result-chart" width="100" height="100"></canvas>
                </div>
                <div class="card p-4 flex flex-col items-center justify-center">
                    <p id="result-score-label" class="text-sm text-gray-400 mb-1 font-medium">Total Score</p>
                    <p id="result-score" class="text-3xl font-bold"></p>
                </div>
                <div class="card p-4 flex flex-col items-center justify-center">
                    <p id="result-time-label" class="text-sm text-gray-400 mb-1 font-medium">Time Taken</p>
                    <p id="result-time" class="text-3xl font-bold"></p>
                </div>
            </div>

            <h2 id="result-breakdown-title" class="text-2xl font-bold mt-8 mb-4">Question Breakdown</h2>
            <div id="result-details" class="space-y-3"></div>

            <div class="mt-8">
                <button id="retake-btn" class="w-full text-white font-semibold py-3 px-4 rounded-xl bg-gray-600 hover:bg-gray-700 transition-transform hover:scale-102 flex items-center justify-center gap-2">
                    <span id="retake-btn-text">Retake Quiz</span>
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M21 21v-5h-5"/></svg>
                </button>
            </div>
        </div>
    </main>

    <script>
        // --- DATA ---
        const quizData = {
            en: [
                // Life Processes
                { q: 'In which part of the alimentary canal is food completely digested? (2022)', o: ['Stomach', 'Mouth', 'Small intestine', 'Large intestine'], a: 2 },
                { q: 'Which of the following is responsible for the green color of plants? (2020)', o: ['Mitochondria', 'Rhizobium', 'Chlorophyll', 'Lactobacillus'], a: 2 },
                { q: 'The breakdown of pyruvate to give carbon dioxide, water, and energy takes place in: (2019)', o: ['Cytoplasm', 'Mitochondria', 'Chloroplast', 'Nucleus'], a: 1 },
                { q: 'Which of these is the main site for the exchange of gases in the lungs? (2023)', o: ['Trachea', 'Bronchi', 'Alveoli', 'Diaphragm'], a: 2 },
                { q: 'The autotrophic mode of nutrition requires: (2018)', o: ['Carbon dioxide and water', 'Chlorophyll', 'Sunlight', 'All of the above'], a: 3 },
                { q: 'Which enzyme is present in saliva?', o: ['Pepsin', 'Trypsin', 'Amylase', 'Lipase'], a: 2 },
                { q: 'Blood pressure is measured with an instrument called:', o: ['Manometer', 'Sphygmomanometer', 'Barometer', 'Thermometer'], a: 1 },
                { q: 'The excretory unit of the human kidney is called:', o: ['Neuron', 'Nephron', 'Ureter', 'Urethra'], a: 1 },
                { q: 'Which of the following is a plant hormone?', o: ['Insulin', 'Thyroxin', 'Estrogen', 'Cytokinin'], a: 3 },
                { q: 'The opening and closing of the stomatal pore depends upon:', o: ['Oxygen', 'Temperature', 'Water in guard cells', 'CO2 concentration'], a: 2 },
                { q: 'Which part of the blood carries oxygen?', o: ['Plasma', 'Platelets', 'White blood cells', 'Red blood cells (Haemoglobin)'], a: 3 },
                { q: 'The energy currency of the cell is:', o: ['ADP', 'ATP', 'Pyruvate', 'Glucose'], a: 1 },
                { q: 'Which of these is not a part of the small intestine?', o: ['Duodenum', 'Jejunum', 'Ileum', 'Rectum'], a: 3 },
                { q: 'The process of removal of toxic wastes from the body is called:', o: ['Nutrition', 'Respiration', 'Excretion', 'Transportation'], a: 2 },
                { q: 'Which of the following organisms has parasitic mode of nutrition?', o: ['Mushroom', 'Yeast', 'Cuscuta (Amarbel)', 'Amoeba'], a: 2 },

                // Control and Coordination
                { q: 'Which part of the brain maintains posture and equilibrium of the body? (2022)', o: ['Cerebrum', 'Cerebellum', 'Pons', 'Medulla'], a: 1 },
                { q: 'The gap between two neurons is called a: (2020)', o: ['Dendrite', 'Synapse', 'Axon', 'Impulse'], a: 1 },
                { q: 'Which gland is known as the master gland? (2019)', o: ['Pituitary gland', 'Thyroid gland', 'Adrenal gland', 'Pancreas'], a: 0 },
                { q: 'Which hormone regulates the blood sugar level? (2023)', o: ['Glucagon', 'Insulin', 'Thyroxin', 'Adrenaline'], a: 1 },
                { q: 'The growth of pollen tubes towards ovules is an example of:', o: ['Geotropism', 'Hydrotropism', 'Chemotropism', 'Phototropism'], a: 2 },
                { q: 'Which plant hormone promotes cell division?', o: ['Auxin', 'Gibberellin', 'Cytokinin', 'Abscisic acid'], a: 2 },
                { q: 'A part of the nervous system that controls involuntary actions is:', o: ['Cerebrum', 'Cerebellum', 'Medulla oblongata', 'Spinal cord'], a: 2 },
                { q: 'Deficiency of which hormone leads to goitre?', o: ['Insulin', 'Thyroxine (Iodine)', 'Adrenaline', 'Growth hormone'], a: 1 },
                { q: 'The movement of a shoot towards light is called:', o: ['Geotropism', 'Hydrotropism', 'Chemotropism', 'Phototropism'], a: 3 },
                { q: 'Which of the following is a part of the fore-brain?', o: ['Cerebrum', 'Cerebellum', 'Medulla', 'Pons'], a: 0 },
                { q: 'The "fight or flight" hormone is:', o: ['Insulin', 'Estrogen', 'Adrenaline', 'Thyroxine'], a: 2 },
                { q: 'The structural and functional unit of the nervous system is:', o: ['Nephron', 'Neuron', 'Sarcomere', 'Alveolus'], a: 1 },
                { q: 'Which plant hormone is responsible for the wilting of leaves?', o: ['Auxin', 'Gibberellin', 'Cytokinin', 'Abscisic acid'], a: 3 },
                { q: 'Reflex actions are controlled by:', o: ['Brain', 'Spinal cord', 'Heart', 'Nerves'], a: 1 },
                { q: 'The hormone responsible for changes in females during puberty is:', o: ['Testosterone', 'Estrogen', 'Adrenaline', 'Progesterone'], a: 1 }
            ],
            hi: [
                // ‡§ú‡•à‡§µ ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§Æ
                { q: '‡§Ü‡§π‡§æ‡§∞‡§®‡§æ‡§≤ ‡§ï‡•á ‡§ï‡§ø‡§∏ ‡§≠‡§æ‡§ó ‡§Æ‡•á‡§Ç ‡§≠‡•ã‡§ú‡§® ‡§ï‡§æ ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§™‡§æ‡§ö‡§® ‡§π‡•ã‡§§‡§æ ‡§π‡•à? (2022)', o: ['‡§Ü‡§Æ‡§æ‡§∂‡§Ø', '‡§Æ‡•Å‡§ñ', '‡§õ‡•ã‡§ü‡•Ä ‡§Ü‡§Ç‡§§', '‡§¨‡§°‡§º‡•Ä ‡§Ü‡§Ç‡§§'], a: 2 },
                { q: '‡§™‡•å‡§ß‡•ã‡§Ç ‡§ï‡•á ‡§π‡§∞‡•á ‡§∞‡§Ç‡§ó ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à? (2020)', o: ['‡§Æ‡§æ‡§á‡§ü‡•ã‡§ï‡•â‡§®‡•ç‡§°‡•ç‡§∞‡§ø‡§Ø‡§æ', '‡§∞‡§æ‡§á‡§ú‡•ã‡§¨‡§ø‡§Ø‡§Æ', '‡§ï‡•ç‡§≤‡•ã‡§∞‡•ã‡§´‡§ø‡§≤', '‡§≤‡•à‡§ï‡•ç‡§ü‡•ã‡§¨‡•à‡§∏‡§ø‡§≤‡§∏'], a: 2 },
                { q: '‡§™‡§æ‡§á‡§∞‡•Å‡§µ‡•á‡§ü ‡§ï‡§æ ‡§µ‡§ø‡§ñ‡§Ç‡§°‡§® ‡§π‡•ã‡§ï‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§°‡§æ‡§á‡§ë‡§ï‡•ç‡§∏‡§æ‡§á‡§°, ‡§ú‡§≤ ‡§§‡§•‡§æ ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§¶‡•á‡§®‡§æ, ‡§Ø‡§π ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à: (2019)', o: ['‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ‡§¶‡•ç‡§∞‡§µ‡•ç‡§Ø ‡§Æ‡•á‡§Ç', '‡§Æ‡§æ‡§á‡§ü‡•ã‡§ï‡•â‡§®‡•ç‡§°‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç', '‡§π‡§∞‡§ø‡§§‡§≤‡§µ‡§ï ‡§Æ‡•á‡§Ç', '‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ï ‡§Æ‡•á‡§Ç'], a: 1 },
                { q: '‡§´‡•á‡§´‡§°‡§º‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ó‡•à‡§∏‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§¶‡§æ‡§®-‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§∏‡•ç‡§•‡§≤ ‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§π‡•à? (2023)', o: ['‡§∂‡•ç‡§µ‡§æ‡§∏‡§®‡§≤‡•Ä', '‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä', '‡§µ‡§æ‡§Ø‡•Å‡§ï‡•ã‡§∑‡•ç‡§†‡§ø‡§ï‡§æ (‡§è‡§≤‡•ç‡§µ‡§ø‡§Ø‡•ã‡§≤‡•Ä)', '‡§°‡§æ‡§Ø‡§æ‡§´‡•ç‡§∞‡§æ‡§Æ'], a: 2 },
                { q: '‡§∏‡•ç‡§µ‡§™‡•ã‡§∑‡•Ä ‡§™‡•ã‡§∑‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à: (2018)', o: ['‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§°‡§æ‡§á‡§ë‡§ï‡•ç‡§∏‡§æ‡§á‡§° ‡§§‡§•‡§æ ‡§ú‡§≤', '‡§ï‡•ç‡§≤‡•ã‡§∞‡•ã‡§´‡§ø‡§≤', '‡§∏‡•Ç‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂', '‡§â‡§™‡§∞‡•ã‡§ï‡•ç‡§§ ‡§∏‡§≠‡•Ä'], a: 3 },
                { q: '‡§≤‡§æ‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡•å‡§® ‡§∏‡§æ ‡§è‡§Ç‡§ú‡§æ‡§á‡§Æ ‡§™‡§æ‡§Ø‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à?', o: ['‡§™‡•á‡§™‡•ç‡§∏‡§ø‡§®', '‡§ü‡•ç‡§∞‡§ø‡§™‡•ç‡§∏‡§ø‡§®', '‡§è‡§Æ‡§æ‡§á‡§≤‡•á‡§ú', '‡§≤‡§æ‡§á‡§™‡•á‡§ú'], a: 2 },
                { q: '‡§∞‡§ï‡•ç‡§§‡§ö‡§æ‡§™ ‡§Æ‡§æ‡§™‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§Ø‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•ã ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç:', o: ['‡§Æ‡•à‡§®‡•ã‡§Æ‡•Ä‡§ü‡§∞', '‡§∏‡•ç‡§´‡§ø‡§ó‡•ç‡§Æ‡•ã‡§Æ‡•à‡§®‡•ã‡§Æ‡•Ä‡§ü‡§∞', '‡§¨‡•à‡§∞‡•ã‡§Æ‡•Ä‡§ü‡§∞', '‡§•‡§∞‡•ç‡§Æ‡§æ‡§Æ‡•Ä‡§ü‡§∞'], a: 1 },
                { q: '‡§Æ‡§æ‡§®‡§µ ‡§µ‡•É‡§ï‡•ç‡§ï ‡§ï‡•Ä ‡§â‡§§‡•ç‡§∏‡§∞‡•ç‡§ú‡§® ‡§á‡§ï‡§æ‡§à ‡§ï‡§π‡§≤‡§æ‡§§‡•Ä ‡§π‡•à:', o: ['‡§®‡•ç‡§Ø‡•Ç‡§∞‡•â‡§®', '‡§®‡•á‡§´‡•ç‡§∞‡•â‡§®', '‡§Æ‡•Ç‡§§‡•ç‡§∞‡§µ‡§æ‡§π‡§ø‡§®‡•Ä', '‡§Æ‡•Ç‡§§‡•ç‡§∞‡§Æ‡§æ‡§∞‡•ç‡§ó'], a: 1 },
                { q: '‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§è‡§ï ‡§™‡§æ‡§¶‡§™ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§π‡•à?', o: ['‡§á‡§Ç‡§∏‡•Å‡§≤‡§ø‡§®', '‡§•‡§æ‡§Ø‡§∞‡•ã‡§ï‡•ç‡§∏‡§ø‡§®', '‡§è‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ú‡§®', '‡§∏‡§æ‡§á‡§ü‡•ã‡§ï‡§ø‡§®‡§ø‡§®'], a: 3 },
                { q: '‡§∞‡§Ç‡§ß‡•ç‡§∞‡•ã‡§Ç ‡§ï‡§æ ‡§ñ‡•Å‡§≤‡§®‡§æ ‡§î‡§∞ ‡§¨‡§Ç‡§¶ ‡§π‡•ã‡§®‡§æ ‡§®‡§ø‡§∞‡•ç‡§≠‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à:', o: ['‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§™‡§∞', '‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§™‡§∞', '‡§∞‡§ï‡•ç‡§∑‡§ï ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä ‡§™‡§∞', 'CO2 ‡§ï‡•Ä ‡§∏‡§æ‡§Ç‡§¶‡•ç‡§∞‡§§‡§æ ‡§™‡§∞'], a: 2 },
                { q: '‡§∞‡§ï‡•ç‡§§ ‡§ï‡§æ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§≠‡§æ‡§ó ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§ï‡§æ ‡§µ‡§π‡§® ‡§ï‡§∞‡§§‡§æ ‡§π‡•à?', o: ['‡§™‡•ç‡§≤‡§æ‡§ú‡•ç‡§Æ‡§æ', '‡§™‡•ç‡§≤‡•á‡§ü‡§≤‡•á‡§ü‡•ç‡§∏', '‡§∂‡•ç‡§µ‡•á‡§§ ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ‡§è‡§Ç', '‡§≤‡§æ‡§≤ ‡§∞‡§ï‡•ç‡§§ ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ‡§è‡§Ç (‡§π‡•Ä‡§Æ‡•ã‡§ó‡•ç‡§≤‡•ã‡§¨‡§ø‡§®)'], a: 3 },
                { q: '‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§ï‡•Ä ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§Æ‡•Å‡§¶‡•ç‡§∞‡§æ ‡§π‡•à:', o: ['‡§è‡§°‡•Ä‡§™‡•Ä (ADP)', '‡§è‡§ü‡•Ä‡§™‡•Ä (ATP)', '‡§™‡§æ‡§á‡§∞‡•Ç‡§µ‡•á‡§ü', '‡§ó‡•ç‡§≤‡•Ç‡§ï‡•ã‡§ú'], a: 1 },
                { q: '‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§õ‡•ã‡§ü‡•Ä ‡§Ü‡§Ç‡§§ ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à?', o: ['‡§ó‡•ç‡§∞‡§π‡§£‡•Ä (Duodenum)', '‡§ú‡•á‡§ú‡•Å‡§®‡§Æ (Jejunum)', '‡§á‡§≤‡§ø‡§Ø‡§Æ (Ileum)', '‡§Æ‡§≤‡§æ‡§∂‡§Ø (Rectum)'], a: 3 },
                { q: '‡§∂‡§∞‡•Ä‡§∞ ‡§∏‡•á ‡§µ‡§ø‡§∑‡§æ‡§ï‡•ç‡§§ ‡§Ö‡§™‡§∂‡§ø‡§∑‡•ç‡§ü‡•ã‡§Ç ‡§ï‡•ã ‡§π‡§ü‡§æ‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡§π‡§≤‡§æ‡§§‡•Ä ‡§π‡•à:', o: ['‡§™‡•ã‡§∑‡§£', '‡§∂‡•ç‡§µ‡§∏‡§®', '‡§â‡§§‡•ç‡§∏‡§∞‡•ç‡§ú‡§®', '‡§™‡§∞‡§ø‡§µ‡§π‡§®'], a: 2 },
                { q: '‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡§ø‡§∏ ‡§ú‡•Ä‡§µ ‡§Æ‡•á‡§Ç ‡§™‡§∞‡§ú‡•Ä‡§µ‡•Ä ‡§™‡•ã‡§∑‡§£ ‡§µ‡§ø‡§ß‡§ø ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?', o: ['‡§Æ‡§∂‡§∞‡•Ç‡§Æ', '‡§Ø‡•Ä‡§∏‡•ç‡§ü', '‡§Ö‡§Æ‡§∞‡§¨‡•á‡§≤ (Cuscuta)', '‡§Ö‡§Æ‡•Ä‡§¨‡§æ'], a: 2 },

                // ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§£ ‡§è‡§µ‡§Ç ‡§∏‡§Æ‡§®‡•ç‡§µ‡§Ø
                { q: '‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§ï‡§æ ‡§ï‡•å‡§®-‡§∏‡§æ ‡§≠‡§æ‡§ó ‡§∂‡§∞‡•Ä‡§∞ ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§§‡§•‡§æ ‡§∏‡§Ç‡§§‡•Å‡§≤‡§® ‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡§ï‡•ç‡§∑‡§£ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à? (2022)', o: ['‡§™‡•ç‡§∞‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï', '‡§Ö‡§®‡•Å‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï (‡§∏‡•á‡§∞‡§ø‡§¨‡•à‡§≤‡§Æ)', '‡§™‡•ã‡§®‡•ç‡§∏', '‡§Æ‡•á‡§°‡•Å‡§≤‡§æ'], a: 1 },
                { q: '‡§¶‡•ã ‡§®‡•ç‡§Ø‡•Ç‡§∞‡•â‡§®‡•ã‡§Ç ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡•á ‡§ñ‡§æ‡§≤‡•Ä ‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•ã ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç: (2020)', o: ['‡§°‡•á‡§Ç‡§°‡•ç‡§∞‡§æ‡§á‡§ü', '‡§∏‡§ø‡§®‡•á‡§™‡•ç‡§∏', '‡§è‡§ï‡•ç‡§∏‡•â‡§®', '‡§Ü‡§µ‡•á‡§ó'], a: 1 },
                { q: '‡§ï‡§ø‡§∏ ‡§ó‡•ç‡§∞‡§Ç‡§•‡§ø ‡§ï‡•ã ‡§Æ‡§æ‡§∏‡•ç‡§ü‡§∞ ‡§ó‡•ç‡§∞‡§Ç‡§•‡§ø ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§∏‡•á ‡§ú‡§æ‡§®‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à? (2019)', o: ['‡§™‡•Ä‡§Ø‡•Ç‡§∑ ‡§ó‡•ç‡§∞‡§Ç‡§•‡§ø', '‡§•‡§æ‡§Ø‡§∞‡•â‡§á‡§° ‡§ó‡•ç‡§∞‡§Ç‡§•‡§ø', '‡§Ö‡§ß‡§ø‡§µ‡•É‡§ï‡•ç‡§ï ‡§ó‡•ç‡§∞‡§Ç‡§•‡§ø', '‡§Ö‡§ó‡•ç‡§®‡•ç‡§Ø‡§æ‡§∂‡§Ø'], a: 0 },
                { q: '‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§∞‡§ï‡•ç‡§§ ‡§∂‡§∞‡•ç‡§ï‡§∞‡§æ ‡§ï‡•á ‡§∏‡•ç‡§§‡§∞ ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à? (2023)', o: ['‡§ó‡•ç‡§≤‡•Ç‡§ï‡§æ‡§ó‡§®', '‡§á‡§Ç‡§∏‡•Å‡§≤‡§ø‡§®', '‡§•‡§æ‡§Ø‡§∞‡•ã‡§ï‡•ç‡§∏‡§ø‡§®', '‡§è‡§°‡•ç‡§∞‡•á‡§®‡§æ‡§≤‡§æ‡§à‡§®'], a: 1 },
                { q: '‡§™‡§∞‡§æ‡§ó ‡§®‡§≤‡§ø‡§ï‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§¨‡•Ä‡§ú‡§æ‡§Ç‡§° ‡§ï‡•Ä ‡§ì‡§∞ ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§ï‡§∞‡§®‡§æ ‡§ï‡§ø‡§∏‡§ï‡§æ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§π‡•à:', o: ['‡§ó‡•Å‡§∞‡•Å‡§§‡•ç‡§µ‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§ú‡§≤‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§∞‡§∏‡§æ‡§Ø‡§®‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®'], a: 2 },
                { q: '‡§ï‡•å‡§® ‡§∏‡§æ ‡§™‡§æ‡§¶‡§™ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§ï‡•ã‡§∂‡§ø‡§ï‡§æ ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§µ‡§æ ‡§¶‡•á‡§§‡§æ ‡§π‡•à?', o: ['‡§ë‡§ï‡•ç‡§∏‡§ø‡§®', '‡§ú‡§ø‡§¨‡§∞‡•á‡§≤‡§ø‡§®', '‡§∏‡§æ‡§á‡§ü‡•ã‡§ï‡§ø‡§®‡§ø‡§®', '‡§è‡§¨‡•ç‡§∏‡§ø‡§∏‡§ø‡§ï ‡§Ö‡§Æ‡•ç‡§≤'], a: 2 },
                { q: '‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§µ‡§π ‡§≠‡§æ‡§ó ‡§ú‡•ã ‡§Ö‡§®‡•à‡§ö‡•ç‡§õ‡§ø‡§ï ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à:', o: ['‡§™‡•ç‡§∞‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï', '‡§Ö‡§®‡•Å‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï', '‡§Æ‡•á‡§°‡•Å‡§≤‡§æ ‡§ë‡§¨‡•ã‡§Ç‡§ó‡§ü‡§æ', '‡§Æ‡•á‡§∞‡•Å‡§∞‡§ú‡•ç‡§ú‡•Å'], a: 2 },
                { q: '‡§ï‡§ø‡§∏ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§ï‡•Ä ‡§ï‡§Æ‡•Ä ‡§∏‡•á ‡§ò‡•á‡§Ç‡§ò‡§æ ‡§∞‡•ã‡§ó ‡§π‡•ã‡§§‡§æ ‡§π‡•à?', o: ['‡§á‡§Ç‡§∏‡•Å‡§≤‡§ø‡§®', '‡§•‡§æ‡§Ø‡§∞‡•ã‡§ï‡•ç‡§∏‡§ø‡§® (‡§Ü‡§Ø‡•ã‡§°‡•Ä‡§®)', '‡§è‡§°‡•ç‡§∞‡•á‡§®‡§æ‡§≤‡§æ‡§à‡§®', '‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§®'], a: 1 },
                { q: '‡§™‡•ç‡§∞‡§∞‡•ã‡§π ‡§ï‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ ‡§ï‡•Ä ‡§ì‡§∞ ‡§ó‡§§‡§ø ‡§ï‡§∞‡§®‡§æ ‡§ï‡§π‡§≤‡§æ‡§§‡§æ ‡§π‡•à:', o: ['‡§ó‡•Å‡§∞‡•Å‡§§‡•ç‡§µ‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§ú‡§≤‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§∞‡§∏‡§æ‡§Ø‡§®‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®', '‡§™‡•ç‡§∞‡§ï‡§æ‡§∂‡§æ‡§®‡•Å‡§µ‡§∞‡•ç‡§§‡§®'], a: 3 },
                { q: '‡§®‡§ø‡§Æ‡•ç‡§®‡§≤‡§ø‡§ñ‡§ø‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§Ö‡§ó‡•ç‡§∞-‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§ï‡§æ ‡§π‡§ø‡§∏‡•ç‡§∏‡§æ ‡§π‡•à?', o: ['‡§™‡•ç‡§∞‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï (‡§∏‡•á‡§∞‡§ø‡§¨‡•ç‡§∞‡§Æ)', '‡§Ö‡§®‡•Å‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï (‡§∏‡•á‡§∞‡§ø‡§¨‡•à‡§≤‡§Æ)', '‡§Æ‡•á‡§°‡•Å‡§≤‡§æ', '‡§™‡•ã‡§®‡•ç‡§∏'], a: 0 },
                { q: '"‡§≤‡§°‡§º‡•ã ‡§Ø‡§æ ‡§â‡§°‡§º‡•ã" ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§π‡•à:', o: ['‡§á‡§Ç‡§∏‡•Å‡§≤‡§ø‡§®', '‡§è‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ú‡§®', '‡§è‡§°‡•ç‡§∞‡•á‡§®‡§æ‡§≤‡§æ‡§à‡§®', '‡§•‡§æ‡§Ø‡§∞‡•ã‡§ï‡•ç‡§∏‡§ø‡§®'], a: 2 },
                { q: '‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§ï‡•Ä ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§î‡§∞ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§æ‡§§‡•ç‡§Æ‡§ï ‡§á‡§ï‡§æ‡§à ‡§π‡•à:', o: ['‡§®‡•á‡§´‡•ç‡§∞‡•â‡§®', '‡§®‡•ç‡§Ø‡•Ç‡§∞‡•â‡§®', '‡§∏‡§æ‡§∞‡•ç‡§ï‡•ã‡§Æ‡§ø‡§Ø‡§∞', '‡§µ‡§æ‡§Ø‡•Å‡§ï‡•ã‡§∑‡•ç‡§†‡§ø‡§ï‡§æ'], a: 1 },
                { q: '‡§™‡§§‡•ç‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§Æ‡•Å‡§∞‡§ù‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•å‡§® ‡§∏‡§æ ‡§™‡§æ‡§¶‡§™ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡•à?', o: ['‡§ë‡§ï‡•ç‡§∏‡§ø‡§®', '‡§ú‡§ø‡§¨‡§∞‡•á‡§≤‡§ø‡§®', '‡§∏‡§æ‡§á‡§ü‡•ã‡§ï‡§ø‡§®‡§ø‡§®', '‡§è‡§¨‡•ç‡§∏‡§ø‡§∏‡§ø‡§ï ‡§Ö‡§Æ‡•ç‡§≤'], a: 3 },
                { q: '‡§™‡•ç‡§∞‡§§‡§ø‡§µ‡§∞‡•ç‡§§‡•Ä ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç ‡§®‡§ø‡§Ø‡§Ç‡§§‡•ç‡§∞‡§ø‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç:', o: ['‡§Æ‡§∏‡•ç‡§§‡§ø‡§∑‡•ç‡§ï ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ', '‡§Æ‡•á‡§∞‡•Å‡§∞‡§ú‡•ç‡§ú‡•Å ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ', '‡§π‡•É‡§¶‡§Ø ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ', '‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ‡§ì‡§Ç ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ'], a: 1 },
                { q: '‡§Ø‡•å‡§µ‡§®‡§æ‡§∞‡§Æ‡•ç‡§≠ ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§Æ‡§π‡§ø‡§≤‡§æ‡§ì‡§Ç ‡§Æ‡•á‡§Ç ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ú‡§ø‡§Æ‡•ç‡§Æ‡•á‡§¶‡§æ‡§∞ ‡§π‡§æ‡§∞‡•ç‡§Æ‡•ã‡§® ‡§π‡•à:', o: ['‡§ü‡•á‡§∏‡•ç‡§ü‡•ã‡§∏‡•ç‡§ü‡•á‡§∞‡•ã‡§®', '‡§è‡§∏‡•ç‡§ü‡•ç‡§∞‡•ã‡§ú‡§®', '‡§è‡§°‡•ç‡§∞‡•á‡§®‡§æ‡§≤‡§æ‡§à‡§®', '‡§™‡•ç‡§∞‡•ã‡§ú‡•á‡§∏‡•ç‡§ü‡•á‡§∞‡•ã‡§®'], a: 1 }
            ]
        };

        const uiText = {
            en: {
                namePrompt: "What‚Äôs your name?", namePlaceholder: "e.g., Aisha, Rahul, Zoe", startBtn: "Start Quiz",
                submitBtn: "Submit Quiz", questionCounter: (c, t) => `Question ${c} / ${t}`, summaryTitle: "Quiz Summary",
                greeting: "Well done,", scoreLabel: "Total Score", timeLabel: "Time Taken", breakdownTitle: "Question Breakdown",
                retakeBtn: "Retake Quiz", correctOption: "Correct:", yourAnswer: "Your Answer:", nextBtn: "Next",
                telegramSending: "Sending report to Telegram...", telegramSent: "Report sent successfully!", telegramFailed: "Failed to send report."
            },
            hi: {
                namePrompt: "‡§Ü‡§™‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", namePlaceholder: "‡§â‡§¶‡§æ., ‡§Ü‡§Ø‡§∂‡§æ, ‡§∞‡§æ‡§π‡•Å‡§≤, ‡§ú‡§º‡•ã‡§à", startBtn: "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
                submitBtn: "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç", questionCounter: (c, t) => `‡§™‡•ç‡§∞‡§∂‡•ç‡§® ${c} / ${t}`, summaryTitle: "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§æ‡§∞‡§æ‡§Ç‡§∂",
                greeting: "‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ,", scoreLabel: "‡§ï‡•Å‡§≤ ‡§∏‡•ç‡§ï‡•ã‡§∞", timeLabel: "‡§≤‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§∏‡§Æ‡§Ø", breakdownTitle: "‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£",
                retakeBtn: "‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§¶‡•á‡§Ç", correctOption: "‡§∏‡§π‡•Ä:", yourAnswer: "‡§Ü‡§™‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞:", nextBtn: "‡§Ö‡§ó‡§≤‡§æ",
                telegramSending: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ü‡•á‡§≤‡•Ä‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§™‡§∞ ‡§≠‡•á‡§ú‡•Ä ‡§ú‡§æ ‡§∞‡§π‡•Ä ‡§π‡•à...", telegramSent: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§≠‡•á‡§ú ‡§¶‡•Ä ‡§ó‡§à!", telegramFailed: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§≠‡•á‡§ú‡§®‡•á ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§´‡§≤‡•§"
            }
        };

        // --- STATE & CONFIG ---
        let state = {
            language: 'en', userName: '', currentQuestionIndex: 0,
            userAnswers: [], timer: null, timeRemaining: 0,
            quizStartTime: null, quizEndTime: null,
        };
        const TOTAL_QUESTIONS = quizData.en.length;
        const QUIZ_DURATION_SECONDS = TOTAL_QUESTIONS * 60; // 30 questions * 60 seconds

        // --- DOM ELEMENTS ---
        const screens = document.querySelectorAll('.screen');
        const langNextBtn = document.getElementById('lang-next-btn');
        const nameInput = document.getElementById('name-input');
        const startQuizBtn = document.getElementById('start-quiz-btn');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const questionCounter = document.getElementById('question-counter');
        const timerDisplay = document.getElementById('timer');
        const submitBtn = document.getElementById('submit-btn');
        const retakeBtn = document.getElementById('retake-btn');
        const telegramStatus = document.getElementById('telegram-status');

        // --- FUNCTIONS ---
        function showScreen(screenId) {
            screens.forEach(s => s.style.display = 'none');
            document.getElementById(screenId).style.display = 'block';
        }

        function updateUIText() {
            const texts = uiText[state.language];
            document.getElementById('lang-next-text').textContent = texts.nextBtn;
            document.getElementById('name-prompt').textContent = texts.namePrompt;
            nameInput.placeholder = texts.namePlaceholder;
            document.getElementById('start-quiz-text').textContent = texts.startBtn;
            document.getElementById('submit-btn-text').textContent = texts.submitBtn;
            document.getElementById('result-summary-title').textContent = texts.summaryTitle;
            document.getElementById('result-greeting').textContent = texts.greeting;
            document.getElementById('result-score-label').textContent = texts.scoreLabel;
            document.getElementById('result-time-label').textContent = texts.timeLabel;
            document.getElementById('result-breakdown-title').textContent = texts.breakdownTitle;
            document.getElementById('retake-btn-text').textContent = texts.retakeBtn;
        }

        function renderQuestion() {
            const questions = quizData[state.language];
            const q = questions[state.currentQuestionIndex];
            const progress = ((state.currentQuestionIndex + 1) / questions.length) * 100;
            
            progressBar.style.width = `${progress}%`;
            questionCounter.textContent = uiText[state.language].questionCounter(state.currentQuestionIndex + 1, questions.length);
            questionText.textContent = q.q;
            optionsContainer.innerHTML = '';

            q.o.forEach((option, index) => {
                const isSelected = state.userAnswers[state.currentQuestionIndex] === index;
                const optionEl = document.createElement('div');
                optionEl.className = `quiz-option p-4 rounded-xl cursor-pointer ${isSelected ? 'selected' : ''}`;
                optionEl.textContent = option;
                optionEl.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionEl);
            });
        }
        
        function selectOption(index) {
            state.userAnswers[state.currentQuestionIndex] = index;
            renderQuestion();
            setTimeout(() => {
                if (state.currentQuestionIndex < quizData[state.language].length - 1) {
                    state.currentQuestionIndex++;
                    renderQuestion();
                }
            }, 300);
        }

        function startTimer() {
            state.quizStartTime = new Date();
            state.timeRemaining = QUIZ_DURATION_SECONDS;
            const timerContainer = document.getElementById('timer-container');
            
            const updateTimerDisplay = () => {
                const minutes = Math.floor(state.timeRemaining / 60).toString().padStart(2, '0');
                const seconds = (state.timeRemaining % 60).toString().padStart(2, '0');
                timerDisplay.textContent = `${minutes}:${seconds}`;
            };
            
            updateTimerDisplay();

            state.timer = setInterval(() => {
                state.timeRemaining--;
                updateTimerDisplay();

                timerContainer.classList.remove('text-yellow-400', 'text-red-500');
                if (state.timeRemaining <= 120) timerContainer.classList.add('text-yellow-400');
                if (state.timeRemaining <= 60) timerContainer.classList.add('text-red-500');
                
                if (state.timeRemaining <= 0) endQuiz();
            }, 1000);
        }
        
        function endQuiz() {
            clearInterval(state.timer);
            state.quizEndTime = new Date();
            window.onbeforeunload = null;
            showResult();
        }

        function drawResultChart(correct, total) {
            const canvas = document.getElementById('result-chart');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            const percentage = total > 0 ? correct / total : 0;
            const endAngle = (percentage * 2 * Math.PI) - (0.5 * Math.PI);
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;

            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            ctx.beginPath();
            ctx.arc(centerX, centerY, 40, 0, 2 * Math.PI);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 12;
            ctx.stroke();

            if (correct > 0) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, 40, -0.5 * Math.PI, endAngle);
                ctx.strokeStyle = '#BB86FC';
                ctx.lineWidth = 12;
                ctx.lineCap = 'round';
                ctx.stroke();
            }

            ctx.fillStyle = '#E0E0E0';
            ctx.font = '700 22px Poppins';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillText(`${Math.round(percentage * 100)}%`, centerX, centerY);
        }

        async function showResult() {
            const questions = quizData[state.language];
            let score = 0;
            questions.forEach((q, i) => { if (q.a === state.userAnswers[i]) score++; });

            const timeTakenMs = state.quizEndTime - state.quizStartTime;
            const minutes = Math.floor(timeTakenMs / 60000);
            const seconds = Math.round((timeTakenMs % 60000) / 1000);
            
            document.getElementById('result-name').textContent = state.userName;
            document.getElementById('result-score').textContent = `${score} / ${questions.length}`;
            document.getElementById('result-time').textContent = `${minutes}m ${seconds}s`;
            
            const resultDetails = document.getElementById('result-details');
            resultDetails.innerHTML = '';
            const texts = uiText[state.language];
            const correctIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-green-400"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>`;
            const incorrectIcon = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" class="text-red-400"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>`;
            
            questions.forEach((q, i) => {
                const userAnswerIndex = state.userAnswers[i];
                const isCorrect = q.a === userAnswerIndex;
                resultDetails.innerHTML += `
                    <div class="card p-4">
                        <div class="flex justify-between items-center cursor-pointer" onclick="this.nextElementSibling.style.maxHeight = this.nextElementSibling.style.maxHeight === '0px' ? '200px' : '0px'">
                            <p class="font-semibold flex-1 pr-4">${i + 1}. ${q.q}</p>
                            <span>${isCorrect ? correctIcon : incorrectIcon}</span>
                        </div>
                        <div class="accordion-content" style="max-height: 0px;">
                            <div class="border-t border-gray-700 mt-3 pt-3 space-y-1 font-medium">
                                <p class="text-green-400">${texts.correctOption} ${q.o[q.a]}</p>
                                <p class="${isCorrect ? 'text-green-400' : 'text-red-400'}">${texts.yourAnswer} ${userAnswerIndex !== undefined ? q.o[userAnswerIndex] : 'Not Answered'}</p>
                            </div>
                        </div>
                    </div>`;
            });
            
            showScreen('result-screen');
            drawResultChart(score, questions.length);

            await sendComprehensiveReportToTelegram({
                name: state.userName,
                score: score,
                total: questions.length,
                time: `${minutes}m ${seconds}s`,
                language: state.language.toUpperCase(),
                breakdown: questions.map((q, i) => ({
                    q: q.q, 
                    correct: q.o[q.a],
                    chosen: state.userAnswers[i] !== undefined ? q.o[state.userAnswers[i]] : 'N/A',
                    isCorrect: q.a === state.userAnswers[i]
                }))
            });
        }

        async function sendComprehensiveReportToTelegram(result) {
            telegramStatus.textContent = uiText[state.language].telegramSending;
            telegramStatus.className = 'text-sm text-yellow-400 h-5';
            
            const botToken = '7515435403:AAFZy4lBut4oWZ1L9JYHtsqskaZzv_q97K0';
            const chatId = '-1002833692420';
            const accuracy = result.total > 0 ? ((result.score / result.total) * 100).toFixed(1) : 0;

            let detailedReview = result.breakdown.map((item, index) => {
                const icon = item.isCorrect ? '‚úÖ' : '‚ùå';
                return `*Q${index + 1}:* ${item.q}\n_Your Answer:_ ${item.chosen}\n_Correct Answer:_ ${item.correct}\n${icon}`;
            }).join('\n\n');

            const message = `
üîî *New Quiz Submission!* üîî

*üßë‚Äçüéì Name:* \`${result.name}\`
*üìä Score:* ${result.score} / ${result.total}
*üéØ Accuracy:* ${accuracy}%
*‚è±Ô∏è Time Taken:* ${result.time}
*üåê Language:* ${result.language}

üìù *Detailed Review:*
------------------------------------
${detailedReview}
            `;

            try {
                const response = await fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: chatId, text: message, parse_mode: 'Markdown' }),
                });
                const data = await response.json();
                if (data.ok) {
                    telegramStatus.textContent = uiText[state.language].telegramSent;
                    telegramStatus.className = 'text-sm text-green-400 h-5';
                } else { throw new Error(data.description); }
            } catch (error) {
                console.error('Telegram API Error:', error);
                telegramStatus.textContent = uiText[state.language].telegramFailed;
                telegramStatus.className = 'text-sm text-red-400 h-5';
            }
        }

        function resetQuiz() {
            state = { ...state, currentQuestionIndex: 0, userAnswers: [], timer: null, timeRemaining: 0, quizStartTime: null, quizEndTime: null };
            const timerContainer = document.getElementById('timer-container');
            timerContainer.classList.remove('text-yellow-400', 'text-red-500');
            submitBtn.disabled = false;
            submitBtn.innerHTML = `<span id="submit-btn-text">${uiText[state.language].submitBtn}</span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>`;
            
            showScreen('quiz-screen');
            renderQuestion();
            startTimer();
            window.onbeforeunload = () => "Quiz in progress. Are you sure?";
        }

        // --- EVENT LISTENERS ---
        document.querySelectorAll('input[name="language"]').forEach(r => r.addEventListener('change', e => {
            state.language = e.target.value;
            langNextBtn.disabled = false;
            updateUIText();
        }));
        langNextBtn.addEventListener('click', () => showScreen('name-screen'));

        nameInput.addEventListener('input', e => {
            startQuizBtn.disabled = e.target.value.trim().length === 0;
        });

        startQuizBtn.addEventListener('click', () => {
            state.userName = nameInput.value.trim();
            state.userAnswers = new Array(quizData[state.language].length).fill(undefined);
            showScreen('quiz-screen');
            renderQuestion();
            startTimer();
            window.onbeforeunload = () => "Quiz in progress. Are you sure?";
        });

        submitBtn.addEventListener('click', () => {
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<div class="loader mx-auto"></div>';
            setTimeout(endQuiz, 1000);
        });

        retakeBtn.addEventListener('click', resetQuiz);

        // --- INITIALIZATION ---
        showScreen('lang-screen');
        updateUIText();
    </script>
</body>
</html>
