<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Class 10 Bihar Board Maths Quiz - 2026 Exam Prep</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* Tailwind gray-900 */
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        #result-details::-webkit-scrollbar { width: 8px; }
        #result-details::-webkit-scrollbar-track { background: #374151; border-radius: 10px; }
        #result-details::-webkit-scrollbar-thumb { background: #4f46e5; border-radius: 10px; }
        #result-details::-webkit-scrollbar-thumb:hover { background: #6366f1; }
    </style>
</head>
<body class="text-gray-200 flex items-center justify-center min-h-screen p-4 bg-gray-900">

    <div class="w-full max-w-3xl mx-auto">
        <!-- Welcome Screen -->
        <div id="welcome-screen" class="bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl fade-in">
            <div class="text-center">
                <h1 class="text-3xl sm:text-4xl font-extrabold text-indigo-400">Class 10 Maths Quiz</h1>
                <p class="text-lg text-gray-400 mt-2">Bihar Board - 2026 Exam Preparation</p>
            </div>
            
            <div class="my-6 text-center">
                <p class="mb-3 text-gray-300">Choose your language / ‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§∑‡§æ ‡§ö‡•Å‡§®‡•á‡§Ç</p>
                <div class="inline-flex rounded-md shadow-sm" role="group">
                    <button type="button" onclick="setLanguage('en')" class="lang-btn bg-indigo-600 text-white px-6 py-2.5 text-sm font-medium rounded-l-lg border border-indigo-500 hover:bg-indigo-700 focus:z-10 focus:ring-2 focus:ring-indigo-500 transition-all duration-300">
                        English
                    </button>
                    <button type="button" onclick="setLanguage('hi')" class="lang-btn bg-gray-700 text-white px-6 py-2.5 text-sm font-medium rounded-r-lg border border-gray-600 hover:bg-gray-600 focus:z-10 focus:ring-2 focus:ring-indigo-500 transition-all duration-300">
                        ‡§π‡§ø‡§Ç‡§¶‡•Ä
                    </button>
                </div>
            </div>

            <!-- Content Area (Syllabus + Name Input) -->
            <div id="content-area">
                <!-- Content will be injected by JS -->
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="hidden bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl fade-in">
            <div class="flex justify-between items-center mb-4">
                <div id="question-count" class="text-sm font-medium text-indigo-400"></div>
                <div id="timer" class="text-sm font-semibold bg-gray-700 text-white px-3 py-1 rounded-full">00:00</div>
            </div>
            <div class="w-full bg-gray-700 rounded-full h-2.5 mb-6">
                <div id="progress-bar" class="bg-indigo-500 h-2.5 rounded-full transition-all duration-500 ease-out"></div>
            </div>
            <div id="question-container" class="mb-6">
                <p id="question-text" class="text-xl sm:text-2xl font-semibold leading-relaxed text-white"></p>
            </div>
            <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
            <div class="flex justify-between items-center mt-8">
                <button id="prev-btn" onclick="prevQuestion()" class="text-white bg-gray-600 hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-800 font-medium rounded-lg text-sm px-8 py-2.5 text-center disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300"></button>
                <button id="next-btn" onclick="nextQuestion()" class="text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-indigo-800 font-medium rounded-lg text-sm px-8 py-2.5 text-center transition-all duration-300"></button>
            </div>
        </div>

        <!-- Result Screen -->
        <div id="result-container" class="hidden bg-gray-800 p-6 sm:p-8 rounded-2xl shadow-2xl fade-in text-center">
            <h1 id="result-title" class="text-2xl sm:text-3xl font-bold text-indigo-400"></h1>
            <p id="result-name" class="text-xl mt-2 text-white font-bold"></p>
            <div class="my-6 grid grid-cols-1 sm:grid-cols-2 gap-4 items-center">
                <div>
                    <p id="score-label" class="text-gray-400"></p>
                    <p id="result-score" class="text-5xl sm:text-6xl font-extrabold text-white my-1"></p>
                </div>
                <div>
                    <p id="time-label" class="text-gray-400"></p>
                    <p id="result-time" class="text-3xl font-bold text-white my-1"></p>
                </div>
            </div>
            <div class="bg-gray-900/50 p-4 rounded-lg">
                <h3 id="details-title" class="text-lg font-semibold mb-3 text-indigo-400"></h3>
                <div id="result-details" class="max-h-80 overflow-y-auto space-y-4 text-left pr-2">
                    <!-- Detailed results will be injected here -->
                </div>
            </div>
            <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4">
                <button onclick="restartQuiz()" class="w-full text-white bg-gray-600 hover:bg-gray-700 focus:ring-4 focus:outline-none focus:ring-gray-800 font-bold rounded-lg text-base px-5 py-3 text-center transition-transform transform hover:scale-105 duration-300" id="restart-btn"></button>
                <button onclick="sendToTelegram()" class="w-full text-white bg-blue-500 hover:bg-blue-600 focus:ring-4 focus:outline-none focus:ring-blue-800 font-bold rounded-lg text-base px-5 py-3 text-center transition-transform transform hover:scale-105 duration-300 flex items-center justify-center gap-2" id="telegram-btn">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M22 2L11 13L2 9L22 2ZM22 2L15 22L11 13L2 9L22 2Z" /></svg>
                    <span></span>
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Modal for Notifications -->
    <div id="custom-modal" class="hidden fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4">
        <div class="bg-gray-800 rounded-2xl shadow-2xl p-6 text-center w-full max-w-sm fade-in">
            <p id="modal-text" class="text-lg text-white mb-6"></p>
            <button onclick="closeModal()" class="w-full text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-indigo-800 font-bold rounded-lg text-base px-5 py-2.5 text-center transition-all duration-300" id="modal-ok-btn">OK</button>
        </div>
    </div>

    <script>
        // --- QUIZ DATA & UI TEXT ---
        const quizData = {
            en: {
                questions: [
                    { question: "What is the HCF of 60 and 72?", options: ["6", "12", "18", "24"], answer: "12" },
                    { question: "The decimal expansion of 7/8 is:", options: ["Terminating", "Non-terminating repeating", "Non-terminating non-repeating", "Integer"], answer: "Terminating" },
                    { question: "If Œ± and Œ≤ are the zeroes of the polynomial x¬≤ + 5x + 6, then Œ± + Œ≤ = ?", options: ["-6", "-5", "5", "6"], answer: "-5" },
                    { question: "The number of zeroes of the polynomial f(x) = x‚Å¥ ‚Äì 4x¬≥ + 2x ‚Äì 8 is:", options: ["4", "3", "2", "Cannot say"], answer: "4" },
                    { question: "The pair of equations x + y = 5 and 2x + 2y = 10 has:", options: ["One solution", "No solution", "Infinitely many solutions", "Two solutions"], answer: "Infinitely many solutions" },
                    { question: "The graph of a pair of linear equations is parallel. What does this mean?", options: ["Unique solution", "No solution", "Infinite solutions", "None"], answer: "No solution" },
                    { question: "The roots of the equation x¬≤ - 5x + 6 = 0 are:", options: ["2, 3", "-2, -3", "1, 6", "0, 5"], answer: "2, 3" },
                    { question: "If D < 0, then the quadratic equation has:", options: ["Two real roots", "No real roots", "Two equal roots", "One real root"], answer: "No real roots" },
                    { question: "The 10th term of AP: 2, 4, 6, 8,... is:", options: ["20", "18", "22", "10"], answer: "20" },
                    { question: "The sum of first 5 terms of AP: 3, 6, 9,... is:", options: ["30", "45", "60", "75"], answer: "45" },
                    { question: "The distance between points A(3, 4) and B(0, 0) is:", options: ["4", "3", "5", "6"], answer: "5" },
                    { question: "Midpoint of the line joining (2, -3) and (4, 1) is:", options: ["(3, -1)", "(6, -2)", "(1, 2)", "(-1, 3)"], answer: "(3, -1)" },
                    { question: "If two triangles are similar, their corresponding sides are:", options: ["Equal", "Proportional", "Unequal", "Parallel"], answer: "Proportional" },
                    { question: "In a right triangle, if one angle is 60¬∞, the other non-right angle is:", options: ["30¬∞", "90¬∞", "45¬∞", "60¬∞"], answer: "30¬∞" },
                    { question: "sin 30¬∞ = ?", options: ["‚àö3/2", "1", "1/2", "0"], answer: "1/2" },
                    { question: "If tan A = ‚àö3, then A = ?", options: ["30¬∞", "45¬∞", "60¬∞", "90¬∞"], answer: "60¬∞" },
                    { question: "sec¬≤A ‚Äì tan¬≤A = ?", options: ["1", "0", "-1", "2"], answer: "1" },
                    { question: "The angle of elevation from a point on the ground to the top of a tower is 45¬∞. If the height of the tower is 10 m, the distance of the point from the tower is:", options: ["10 m", "20 m", "5 m", "15 m"], answer: "10 m" },
                    { question: "The length of tangent drawn from an external point to a circle is:", options: ["Less than radius", "Equal to radius", "Greater than radius", "Perpendicular to radius"], answer: "Greater than radius" },
                    { question: "A tangent to a circle is always ___ to the radius.", options: ["Parallel", "Equal", "Perpendicular", "Tangent"], answer: "Perpendicular" },
                    { question: "To divide a line segment AB in the ratio 3:2, the number of arcs to be drawn is:", options: ["2", "3", "5", "6"], answer: "5" },
                    { question: "Area of a circle with radius 7 cm is:", options: ["154 cm¬≤", "44 cm¬≤", "22 cm¬≤", "143 cm¬≤"], answer: "154 cm¬≤" },
                    { question: "Circumference of circle with diameter 14 cm is:", options: ["44 cm", "88 cm", "22 cm", "154 cm"], answer: "44 cm" },
                    { question: "Volume of a cube of side 4 cm is:", options: ["16 cm¬≥", "64 cm¬≥", "32 cm¬≥", "48 cm¬≥"], answer: "64 cm¬≥" },
                    { question: "Surface area of sphere with radius 7 cm is:", options: ["616 cm¬≤", "154 cm¬≤", "308 cm¬≤", "484 cm¬≤"], answer: "616 cm¬≤" },
                    { question: "The mean of 5, 10, 15, 20, 25 is:", options: ["10", "15", "20", "25"], answer: "15" },
                    { question: "The mode of 2, 2, 3, 4, 5, 2, 6 is:", options: ["2", "3", "4", "5"], answer: "2" },
                    { question: "Probability of getting head in a coin toss is:", options: ["0", "1", "1/2", "2"], answer: "1/2" },
                    { question: "A die is thrown once. What is the probability of getting a number greater than 4?", options: ["1/6", "2/6", "3/6", "4/6"], answer: "2/6" },
                    { question: "Probability of choosing a vowel from English alphabets is:", options: ["5/26", "6/26", "21/26", "1/2"], answer: "5/26" }
                ],
                syllabusTitle: "Syllabus Covered:",
                syllabus: `<li><strong>Real Numbers:</strong> HCF, LCM, Decimal Expansions</li><li><strong>Polynomials:</strong> Zeroes, Division Algorithm</li><li><strong>Linear Equations:</strong> Graphical & Algebraic Methods</li><li><strong>Quadratic Equations:</strong> Factorization, Formula</li><li><strong>Arithmetic Progressions:</strong> nth Term, Sum</li><li><strong>Coordinate Geometry:</strong> Distance & Section Formula</li><li><strong>Triangles:</strong> Similarity, Pythagoras Theorem</li><li><strong>Trigonometry:</strong> Ratios, Identities, Heights & Distances</li><li><strong>Circles:</strong> Tangents, Theorems</li><li><strong>Constructions:</strong> Division of Line, Tangents</li><li><strong>Areas Related to Circles:</strong> Perimeter, Area, Sectors</li><li><strong>Surface Area & Volume:</strong> Cube, Sphere, Cylinder</li><li><strong>Statistics:</strong> Mean, Median, Mode</li><li><strong>Probability:</strong> Theoretical Probability</li>`,
                nameLabel: "Enter your name",
                namePlaceholder: "e.g., Kumar Ravi",
                startBtn: "Start Quiz",
                prevBtn: "Previous",
                nextBtn: "Next",
                finishBtn: "Finish",
                questionCount: (c, t) => `Question ${c} of ${t}`,
                resultTitle: "Quiz Complete!",
                scoreLabel: "Your Score",
                timeLabel: "Time Taken",
                detailsTitle: "Review Your Answers",
                yourAnswer: "Your Answer",
                correctAnswer: "Correct Answer",
                notAttempted: "Not Attempted",
                restartBtn: "Restart Quiz",
                telegramBtn: "Send to Telegram",
                nameError: "Please enter your name to start.",
                optionError: "Please select an option to continue.",
                modalOkBtn: "OK"
            },
            hi: {
                questions: [
                    { question: "60 ‡§î‡§∞ 72 ‡§ï‡§æ ‡§Æ‡§π‡§§‡•ç‡§§‡§Æ ‡§∏‡§Æ‡§æ‡§™‡§µ‡§∞‡•ç‡§§‡§ï (HCF) ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?", options: ["6", "12", "18", "24"], answer: "12" },
                    { question: "7/8 ‡§ï‡§æ ‡§¶‡§∂‡§Æ‡§≤‡§µ ‡§™‡•ç‡§∞‡§∏‡§æ‡§∞ ‡§π‡•à:", options: ["‡§∏‡§æ‡§Ç‡§§", "‡§Ö‡§∏‡§æ‡§Ç‡§§ ‡§Ü‡§µ‡§∞‡•ç‡§§‡•Ä", "‡§Ö‡§∏‡§æ‡§Ç‡§§ ‡§Ö‡§®‡§æ‡§µ‡§∞‡•ç‡§§‡•Ä", "‡§™‡•Ç‡§∞‡•ç‡§£‡§æ‡§Ç‡§ï"], answer: "‡§∏‡§æ‡§Ç‡§§" },
                    { question: "‡§Ø‡§¶‡§ø Œ± ‡§î‡§∞ Œ≤ ‡§¨‡§π‡•Å‡§™‡§¶ x¬≤ + 5x + 6 ‡§ï‡•á ‡§∂‡•Ç‡§®‡•ç‡§Ø‡§ï ‡§π‡•à‡§Ç, ‡§§‡•ã Œ± + Œ≤ = ?", options: ["-6", "-5", "5", "6"], answer: "-5" },
                    { question: "‡§¨‡§π‡•Å‡§™‡§¶ f(x) = x‚Å¥ ‚Äì 4x¬≥ + 2x ‚Äì 8 ‡§ï‡•á ‡§∂‡•Ç‡§®‡•ç‡§Ø‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§π‡•à:", options: ["4", "3", "2", "‡§ï‡§π ‡§®‡§π‡•Ä‡§Ç ‡§∏‡§ï‡§§‡•á"], answer: "4" },
                    { question: "‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£ ‡§Ø‡•Å‡§ó‡•ç‡§Æ x + y = 5 ‡§î‡§∞ 2x + 2y = 10 ‡§ï‡•á ‡§π‡•à‡§Ç:", options: ["‡§è‡§ï ‡§π‡§≤", "‡§ï‡•ã‡§à ‡§π‡§≤ ‡§®‡§π‡•Ä‡§Ç", "‡§Ö‡§®‡§Ç‡§§ ‡§π‡§≤", "‡§¶‡•ã ‡§π‡§≤"], answer: "‡§Ö‡§®‡§Ç‡§§ ‡§π‡§≤" },
                    { question: "‡§¶‡•ã ‡§∞‡•à‡§ñ‡§ø‡§ï ‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£‡•ã‡§Ç ‡§ï‡§æ ‡§ó‡•ç‡§∞‡§æ‡§´ ‡§∏‡§Æ‡§æ‡§®‡§æ‡§Ç‡§§‡§∞ ‡§π‡•à‡•§ ‡§á‡§∏‡§ï‡§æ ‡§ï‡•ç‡§Ø‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§π‡•à?", options: ["‡§Ö‡§¶‡•ç‡§µ‡§ø‡§§‡•Ä‡§Ø ‡§π‡§≤", "‡§ï‡•ã‡§à ‡§π‡§≤ ‡§®‡§π‡•Ä‡§Ç", "‡§Ö‡§®‡§Ç‡§§ ‡§π‡§≤", "‡§ï‡•ã‡§à ‡§®‡§π‡•Ä‡§Ç"], answer: "‡§ï‡•ã‡§à ‡§π‡§≤ ‡§®‡§π‡•Ä‡§Ç" },
                    { question: "‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£ x¬≤ - 5x + 6 = 0 ‡§ï‡•á ‡§Æ‡•Ç‡§≤ ‡§π‡•à‡§Ç:", options: ["2, 3", "-2, -3", "1, 6", "0, 5"], answer: "2, 3" },
                    { question: "‡§Ø‡§¶‡§ø D < 0, ‡§§‡•ã ‡§¶‡•ç‡§µ‡§ø‡§ò‡§æ‡§§ ‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£ ‡§ï‡•á:", options: ["‡§¶‡•ã ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§Æ‡•Ç‡§≤", "‡§ï‡•ã‡§à ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§Æ‡•Ç‡§≤ ‡§®‡§π‡•Ä‡§Ç", "‡§¶‡•ã ‡§∏‡§Æ‡§æ‡§® ‡§Æ‡•Ç‡§≤", "‡§è‡§ï ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§Æ‡•Ç‡§≤"], answer: "‡§ï‡•ã‡§à ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§Æ‡•Ç‡§≤ ‡§®‡§π‡•Ä‡§Ç" },
                    { question: "‡§∏‡§Æ‡§æ‡§Ç‡§§‡§∞ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä: 2, 4, 6, 8,... ‡§ï‡§æ 10‡§µ‡§æ‡§Å ‡§™‡§¶ ‡§π‡•à:", options: ["20", "18", "22", "10"], answer: "20" },
                    { question: "‡§∏‡§Æ‡§æ‡§Ç‡§§‡§∞ ‡§∂‡•ç‡§∞‡•á‡§£‡•Ä: 3, 6, 9,... ‡§ï‡•á ‡§™‡§π‡§≤‡•á 5 ‡§™‡§¶‡•ã‡§Ç ‡§ï‡§æ ‡§Ø‡•ã‡§ó ‡§π‡•à:", options: ["30", "45", "60", "75"], answer: "45" },
                    { question: "‡§¨‡§ø‡§Ç‡§¶‡•Å A(3, 4) ‡§î‡§∞ B(0, 0) ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§ï‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§π‡•à:", options: ["4", "3", "5", "6"], answer: "5" },
                    { question: "(2, -3) ‡§î‡§∞ (4, 1) ‡§ï‡•ã ‡§Æ‡§ø‡§≤‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§∞‡•á‡§ñ‡§æ ‡§ï‡§æ ‡§Æ‡§ß‡•ç‡§Ø‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§π‡•à:", options: ["(3, -1)", "(6, -2)", "(1, 2)", "(-1, 3)"], answer: "(3, -1)" },
                    { question: "‡§Ø‡§¶‡§ø ‡§¶‡•ã ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§∏‡§Æ‡§∞‡•Ç‡§™ ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§â‡§®‡§ï‡•Ä ‡§∏‡§Ç‡§ó‡§§ ‡§≠‡•Å‡§ú‡§æ‡§è‡§Å ‡§π‡•à‡§Ç:", options: ["‡§¨‡§∞‡§æ‡§¨‡§∞", "‡§∏‡§Æ‡§æ‡§®‡•Å‡§™‡§æ‡§§‡•Ä", "‡§Ö‡§∏‡§Æ‡§æ‡§®", "‡§∏‡§Æ‡§æ‡§Ç‡§§‡§∞"], answer: "‡§∏‡§Æ‡§æ‡§®‡•Å‡§™‡§æ‡§§‡•Ä" },
                    { question: "‡§è‡§ï ‡§∏‡§Æ‡§ï‡•ã‡§£ ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú ‡§Æ‡•á‡§Ç, ‡§Ø‡§¶‡§ø ‡§è‡§ï ‡§ï‡•ã‡§£ 60¬∞ ‡§π‡•à, ‡§§‡•ã ‡§¶‡•Ç‡§∏‡§∞‡§æ ‡§ó‡•à‡§∞-‡§∏‡§Æ‡§ï‡•ã‡§£ ‡§ï‡•ã‡§£ ‡§π‡•à:", options: ["30¬∞", "90¬∞", "45¬∞", "60¬∞"], answer: "30¬∞" },
                    { question: "sin 30¬∞ = ?", options: ["‚àö3/2", "1", "1/2", "0"], answer: "1/2" },
                    { question: "‡§Ø‡§¶‡§ø tan A = ‚àö3, ‡§§‡•ã A = ?", options: ["30¬∞", "45¬∞", "60¬∞", "90¬∞"], answer: "60¬∞" },
                    { question: "sec¬≤A ‚Äì tan¬≤A = ?", options: ["1", "0", "-1", "2"], answer: "1" },
                    { question: "‡§ú‡§Æ‡•Ä‡§® ‡§™‡§∞ ‡§è‡§ï ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§∏‡•á ‡§è‡§ï ‡§Æ‡•Ä‡§®‡§æ‡§∞ ‡§ï‡•á ‡§∂‡•Ä‡§∞‡•ç‡§∑ ‡§ï‡§æ ‡§â‡§®‡•ç‡§®‡§Ø‡§® ‡§ï‡•ã‡§£ 45¬∞ ‡§π‡•à‡•§ ‡§Ø‡§¶‡§ø ‡§Æ‡•Ä‡§®‡§æ‡§∞ ‡§ï‡•Ä ‡§ä‡§Å‡§ö‡§æ‡§à 10 ‡§Æ‡•Ä‡§ü‡§∞ ‡§π‡•à, ‡§§‡•ã ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§∏‡•á ‡§Æ‡•Ä‡§®‡§æ‡§∞ ‡§ï‡•Ä ‡§¶‡•Ç‡§∞‡•Ä ‡§π‡•à:", options: ["10 ‡§Æ‡•Ä", "20 ‡§Æ‡•Ä", "5 ‡§Æ‡•Ä", "15 ‡§Æ‡•Ä"], answer: "10 ‡§Æ‡•Ä" },
                    { question: "‡§è‡§ï ‡§µ‡•É‡§§‡•ç‡§§ ‡§™‡§∞ ‡§¨‡§æ‡§π‡•ç‡§Ø ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§∏‡•á ‡§ñ‡•Ä‡§Ç‡§ö‡•Ä ‡§ó‡§à ‡§∏‡•ç‡§™‡§∞‡•ç‡§∂ ‡§∞‡•á‡§ñ‡§æ ‡§ï‡•Ä ‡§≤‡§Ç‡§¨‡§æ‡§à ‡§π‡•à:", options: ["‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§∏‡•á ‡§ï‡§Æ", "‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§¨‡§∞‡§æ‡§¨‡§∞", "‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï", "‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§Ç‡§¨‡§µ‡§§"], answer: "‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï" },
                    { question: "‡§è‡§ï ‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•Ä ‡§∏‡•ç‡§™‡§∞‡•ç‡§∂ ‡§∞‡•á‡§ñ‡§æ ‡§π‡§Æ‡•á‡§∂‡§æ ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§ï‡•á ___ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§", options: ["‡§∏‡§Æ‡§æ‡§Ç‡§§‡§∞", "‡§¨‡§∞‡§æ‡§¨‡§∞", "‡§≤‡§Ç‡§¨‡§µ‡§§", "‡§∏‡•ç‡§™‡§∞‡•ç‡§∂ ‡§∞‡•á‡§ñ‡§æ"], answer: "‡§≤‡§Ç‡§¨‡§µ‡§§" },
                    { question: "‡§è‡§ï ‡§∞‡•á‡§ñ‡§æ‡§ñ‡§Ç‡§° AB ‡§ï‡•ã 3:2 ‡§ï‡•á ‡§Ö‡§®‡•Å‡§™‡§æ‡§§ ‡§Æ‡•á‡§Ç ‡§µ‡§ø‡§≠‡§æ‡§ú‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§ñ‡•Ä‡§Ç‡§ö‡•á ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ö‡§æ‡§™‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§π‡•à:", options: ["2", "3", "5", "6"], answer: "5" },
                    { question: "7 ‡§∏‡•á‡§Æ‡•Ä ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§µ‡§æ‡§≤‡•á ‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡§æ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§π‡•à:", options: ["154 ‡§∏‡•á‡§Æ‡•Ä¬≤", "44 ‡§∏‡•á‡§Æ‡•Ä¬≤", "22 ‡§∏‡•á‡§Æ‡•Ä¬≤", "143 ‡§∏‡•á‡§Æ‡•Ä¬≤"], answer: "154 ‡§∏‡•á‡§Æ‡•Ä¬≤" },
                    { question: "14 ‡§∏‡•á‡§Æ‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§∏ ‡§µ‡§æ‡§≤‡•á ‡§µ‡•É‡§§‡•ç‡§§ ‡§ï‡•Ä ‡§™‡§∞‡§ø‡§ß‡§ø ‡§π‡•à:", options: ["44 ‡§∏‡•á‡§Æ‡•Ä", "88 ‡§∏‡•á‡§Æ‡•Ä", "22 ‡§∏‡•á‡§Æ‡•Ä", "154 ‡§∏‡•á‡§Æ‡•Ä"], answer: "44 ‡§∏‡•á‡§Æ‡•Ä" },
                    { question: "4 ‡§∏‡•á‡§Æ‡•Ä ‡§≠‡•Å‡§ú‡§æ ‡§µ‡§æ‡§≤‡•á ‡§ò‡§® ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® ‡§π‡•à:", options: ["16 ‡§∏‡•á‡§Æ‡•Ä¬≥", "64 ‡§∏‡•á‡§Æ‡•Ä¬≥", "32 ‡§∏‡•á‡§Æ‡•Ä¬≥", "48 ‡§∏‡•á‡§Æ‡•Ä¬≥"], answer: "64 ‡§∏‡•á‡§Æ‡•Ä¬≥" },
                    { question: "7 ‡§∏‡•á‡§Æ‡•Ä ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§µ‡§æ‡§≤‡•á ‡§ó‡•ã‡§≤‡•á ‡§ï‡§æ ‡§™‡•É‡§∑‡•ç‡§†‡•Ä‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§π‡•à:", options: ["616 ‡§∏‡•á‡§Æ‡•Ä¬≤", "154 ‡§∏‡•á‡§Æ‡•Ä¬≤", "308 ‡§∏‡•á‡§Æ‡•Ä¬≤", "484 ‡§∏‡•á‡§Æ‡•Ä¬≤"], answer: "616 ‡§∏‡•á‡§Æ‡•Ä¬≤" },
                    { question: "5, 10, 15, 20, 25 ‡§ï‡§æ ‡§Æ‡§æ‡§ß‡•ç‡§Ø ‡§π‡•à:", options: ["10", "15", "20", "25"], answer: "15" },
                    { question: "2, 2, 3, 4, 5, 2, 6 ‡§ï‡§æ ‡§¨‡§π‡•Å‡§≤‡§ï ‡§π‡•à:", options: ["2", "3", "4", "5"], answer: "2" },
                    { question: "‡§è‡§ï ‡§∏‡§ø‡§ï‡•ç‡§ï‡•á ‡§ï‡•ã ‡§â‡§õ‡§æ‡§≤‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ö‡§ø‡§§ ‡§Ü‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§Ø‡§ø‡§ï‡§§‡§æ ‡§π‡•à:", options: ["0", "1", "1/2", "2"], answer: "1/2" },
                    { question: "‡§è‡§ï ‡§™‡§æ‡§∏‡•á ‡§ï‡•ã ‡§è‡§ï ‡§¨‡§æ‡§∞ ‡§´‡•á‡§Ç‡§ï‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à‡•§ 4 ‡§∏‡•á ‡§¨‡§°‡§º‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§Ü‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§Ø‡§ø‡§ï‡§§‡§æ ‡§π‡•à:", options: ["1/6", "2/6", "3/6", "4/6"], answer: "2/6" },
                    { question: "‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä ‡§µ‡§∞‡•ç‡§£‡§Æ‡§æ‡§≤‡§æ ‡§∏‡•á ‡§è‡§ï ‡§∏‡•ç‡§µ‡§∞ ‡§ö‡•Å‡§®‡§®‡•á ‡§ï‡•Ä ‡§™‡•ç‡§∞‡§æ‡§Ø‡§ø‡§ï‡§§‡§æ ‡§π‡•à:", options: ["5/26", "6/26", "21/26", "1/2"], answer: "5/26" }
                ],
                syllabusTitle: "‡§™‡§æ‡§†‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ ‡§ï‡§µ‡§∞ ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ:",
                syllabus: `<li><strong>‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§è‡§Å:</strong> HCF, LCM, ‡§¶‡§∂‡§Æ‡§≤‡§µ ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞</li><li><strong>‡§¨‡§π‡•Å‡§™‡§¶:</strong> ‡§∂‡•Ç‡§®‡•ç‡§Ø‡§ï, ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§è‡§≤‡•ç‡§ó‡•ã‡§∞‡§ø‡§•‡•ç‡§Æ</li><li><strong>‡§∞‡•à‡§ñ‡§ø‡§ï ‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£:</strong> ‡§Ü‡§≤‡•á‡§ñ‡•Ä‡§Ø ‡§î‡§∞ ‡§¨‡•Ä‡§ú‡§ó‡§£‡§ø‡§§‡•Ä‡§Ø ‡§µ‡§ø‡§ß‡§ø‡§Ø‡§æ‡§Å</li><li><strong>‡§¶‡•ç‡§µ‡§ø‡§ò‡§æ‡§§ ‡§∏‡§Æ‡•Ä‡§ï‡§∞‡§£:</strong> ‡§ó‡•Å‡§£‡§®‡§ñ‡§Ç‡§°‡§®, ‡§∏‡•Ç‡§§‡•ç‡§∞</li><li><strong>‡§∏‡§Æ‡§æ‡§Ç‡§§‡§∞ ‡§∂‡•ç‡§∞‡•á‡§¢‡§º‡§ø‡§Ø‡§æ‡§Å:</strong> n‡§µ‡§æ‡§Å ‡§™‡§¶, ‡§Ø‡•ã‡§ó</li><li><strong>‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§æ‡§Ç‡§ï ‡§ú‡•ç‡§Ø‡§æ‡§Æ‡§ø‡§§‡§ø:</strong> ‡§¶‡•Ç‡§∞‡•Ä ‡§î‡§∞ ‡§µ‡§ø‡§≠‡§æ‡§ú‡§® ‡§∏‡•Ç‡§§‡•ç‡§∞</li><li><strong>‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú:</strong> ‡§∏‡§Æ‡§∞‡•Ç‡§™‡§§‡§æ, ‡§™‡§æ‡§á‡§•‡§æ‡§ó‡•ã‡§∞‡§∏ ‡§™‡•ç‡§∞‡§Æ‡•á‡§Ø</li><li><strong>‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£‡§Æ‡§ø‡§§‡§ø:</strong> ‡§Ö‡§®‡•Å‡§™‡§æ‡§§, ‡§∏‡§∞‡•ç‡§µ‡§∏‡§Æ‡§ø‡§ï‡§æ‡§è‡§Å, ‡§ä‡§Å‡§ö‡§æ‡§à ‡§î‡§∞ ‡§¶‡•Ç‡§∞‡§ø‡§Ø‡§æ‡§Å</li><li><strong>‡§µ‡•É‡§§‡•ç‡§§:</strong> ‡§∏‡•ç‡§™‡§∞‡•ç‡§∂ ‡§∞‡•á‡§ñ‡§æ‡§è‡§Å, ‡§™‡•ç‡§∞‡§Æ‡•á‡§Ø</li><li><strong>‡§∞‡§ö‡§®‡§æ‡§è‡§Å:</strong> ‡§∞‡•á‡§ñ‡§æ ‡§ï‡§æ ‡§µ‡§ø‡§≠‡§æ‡§ú‡§®, ‡§∏‡•ç‡§™‡§∞‡•ç‡§∂ ‡§∞‡•á‡§ñ‡§æ‡§è‡§Å</li><li><strong>‡§µ‡•É‡§§‡•ç‡§§‡•ã‡§Ç ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤:</strong> ‡§™‡§∞‡§ø‡§Æ‡§æ‡§™, ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤, ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§ñ‡§Ç‡§°</li><li><strong>‡§™‡•É‡§∑‡•ç‡§†‡•Ä‡§Ø ‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ ‡§î‡§∞ ‡§Ü‡§Ø‡§§‡§®:</strong> ‡§ò‡§®, ‡§ó‡•ã‡§≤‡§æ, ‡§¨‡•á‡§≤‡§®</li><li><strong>‡§∏‡§æ‡§Ç‡§ñ‡•ç‡§Ø‡§ø‡§ï‡•Ä:</strong> ‡§Æ‡§æ‡§ß‡•ç‡§Ø, ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§ø‡§ï‡§æ, ‡§¨‡§π‡•Å‡§≤‡§ï</li><li><strong>‡§™‡•ç‡§∞‡§æ‡§Ø‡§ø‡§ï‡§§‡§æ:</strong> ‡§∏‡•à‡§¶‡•ç‡§ß‡§æ‡§Ç‡§§‡§ø‡§ï ‡§™‡•ç‡§∞‡§æ‡§Ø‡§ø‡§ï‡§§‡§æ</li>`,
                nameLabel: "‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç",
                namePlaceholder: "‡§ú‡•à‡§∏‡•á, ‡§ï‡•Å‡§Æ‡§æ‡§∞ ‡§∞‡§µ‡§ø",
                startBtn: "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
                prevBtn: "‡§™‡§ø‡§õ‡§≤‡§æ",
                nextBtn: "‡§Ö‡§ó‡§≤‡§æ",
                finishBtn: "‡§∏‡§Æ‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",
                questionCount: (c, t) => `‡§™‡•ç‡§∞‡§∂‡•ç‡§® ${c} / ${t}`,
                resultTitle: "‡§ï‡•ç‡§µ‡§ø‡§ú‡§º ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§!",
                scoreLabel: "‡§Ü‡§™‡§ï‡§æ ‡§∏‡•ç‡§ï‡•ã‡§∞",
                timeLabel: "‡§≤‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§∏‡§Æ‡§Ø",
                detailsTitle: "‡§Ö‡§™‡§®‡•á ‡§â‡§§‡•ç‡§§‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç",
                yourAnswer: "‡§Ü‡§™‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞",
                correctAnswer: "‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞",
                notAttempted: "‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§ø‡§Ø‡§æ",
                restartBtn: "‡§´‡§ø‡§∞ ‡§∏‡•á ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç",
                telegramBtn: "‡§ü‡•á‡§≤‡•Ä‡§ó‡•ç‡§∞‡§æ‡§Æ ‡§™‡§∞ ‡§≠‡•á‡§ú‡•á‡§Ç",
                nameError: "‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç‡•§",
                optionError: "‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç‡•§",
                modalOkBtn: "‡§†‡•Ä‡§ï ‡§π‡•à"
            }
        };

        // --- STATE VARIABLES ---
        let currentLanguage = 'en';
        let currentQuestion = 0;
        let score = 0;
        let timer = 0;
        let timerInterval;
        let userAnswers = [];
        let userName = '';

        // --- DOM ELEMENTS ---
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizContainer = document.getElementById('quiz-container');
        const resultContainer = document.getElementById('result-container');
        const contentArea = document.getElementById('content-area');
        const langBtns = document.querySelectorAll('.lang-btn');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const questionCount = document.getElementById('question-count');
        const progressBar = document.getElementById('progress-bar');
        const nextBtn = document.getElementById('next-btn');
        const prevBtn = document.getElementById('prev-btn');
        const timerElement = document.getElementById('timer');
        const resultTitle = document.getElementById('result-title');
        const resultName = document.getElementById('result-name');
        const scoreLabel = document.getElementById('score-label');
        const timeLabel = document.getElementById('time-label');
        const resultScore = document.getElementById('result-score');
        const resultTime = document.getElementById('result-time');
        const detailsTitle = document.getElementById('details-title');
        const resultDetails = document.getElementById('result-details');
        const restartBtn = document.getElementById('restart-btn');
        const telegramBtnText = document.querySelector('#telegram-btn span');
        const customModal = document.getElementById('custom-modal');
        const modalText = document.getElementById('modal-text');
        const modalOkBtn = document.getElementById('modal-ok-btn');

        // --- FUNCTIONS ---

        function showModal(message) {
            modalText.textContent = message;
            customModal.classList.remove('hidden');
        }

        function closeModal() {
            customModal.classList.add('hidden');
        }

        function setLanguage(lang) {
            currentLanguage = lang;
            const uiText = quizData[currentLanguage];
            
            langBtns.forEach(btn => {
                if (btn.textContent.toLowerCase().includes(lang)) {
                    btn.classList.replace('bg-gray-700', 'bg-indigo-600');
                    btn.classList.replace('border-gray-600', 'border-indigo-500');
                } else {
                    btn.classList.replace('bg-indigo-600', 'bg-gray-700');
                    btn.classList.replace('border-indigo-500', 'border-gray-600');
                }
            });

            contentArea.innerHTML = `
                <div class="bg-gray-900/50 p-4 rounded-lg mt-6 border-l-4 border-indigo-500">
                    <h3 class="text-lg font-semibold mb-3 text-indigo-400">${uiText.syllabusTitle}</h3>
                    <ul class="list-disc list-inside space-y-1 text-gray-300 text-sm">${uiText.syllabus}</ul>
                </div>
                <div class="mt-6">
                    <label for="name-input" class="block mb-2 text-sm font-medium text-gray-300">${uiText.nameLabel}</label>
                    <input type="text" id="name-input" class="bg-gray-700 border border-gray-600 text-white text-sm rounded-lg focus:ring-indigo-500 focus:border-indigo-500 block w-full p-3 placeholder-gray-400" placeholder="${uiText.namePlaceholder}" required>
                </div>
                <button onclick="startQuiz()" class="mt-6 w-full text-white bg-indigo-600 hover:bg-indigo-700 focus:ring-4 focus:outline-none focus:ring-indigo-800 font-bold rounded-lg text-lg px-5 py-3 text-center transition-transform transform hover:scale-105 duration-300">${uiText.startBtn}</button>
            `;
            
            modalOkBtn.textContent = uiText.modalOkBtn;
        }

        function startQuiz() {
            const nameInput = document.getElementById('name-input');
            userName = nameInput.value.trim();
            if (!userName) {
                showModal(quizData[currentLanguage].nameError);
                return;
            }
            welcomeScreen.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            timer = 0;
            updateTimerDisplay();
            timerInterval = setInterval(() => {
                timer++;
                updateTimerDisplay();
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timer / 60).toString().padStart(2, '0');
            const seconds = (timer % 60).toString().padStart(2, '0');
            timerElement.textContent = `${minutes}:${seconds}`;
        }

        function loadQuestion() {
            const questions = quizData[currentLanguage].questions;
            const question = questions[currentQuestion];

            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';

            question.options.forEach((option, index) => {
                const optionElement = document.createElement('button');
                optionElement.className = "option p-4 w-full text-left rounded-lg transition-all duration-200 border-2 border-gray-600 bg-gray-700 hover:bg-gray-600 hover:border-indigo-500 font-medium";
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('!bg-indigo-600', '!border-indigo-400', 'text-white', 'font-bold');
                }
                
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });

            updateQuizUI();
        }

        function selectOption(index) {
            userAnswers[currentQuestion] = index;
            document.querySelectorAll('.option').forEach((opt, i) => {
                opt.classList.toggle('!bg-indigo-600', i === index);
                opt.classList.toggle('!border-indigo-400', i === index);
                opt.classList.toggle('text-white', i === index);
                opt.classList.toggle('font-bold', i === index);
            });
            setTimeout(() => {
                const questions = quizData[currentLanguage].questions;
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    loadQuestion();
                } else {
                    showResults();
                }
            }, 300);
        }

        function nextQuestion() {
            const questions = quizData[currentLanguage].questions;
            if (userAnswers[currentQuestion] === undefined) {
                showModal(quizData[currentLanguage].optionError);
                return;
            }
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }
        
        function updateQuizUI() {
            const questions = quizData[currentLanguage].questions;
            const uiText = quizData[currentLanguage];
            
            questionCount.textContent = uiText.questionCount(currentQuestion + 1, questions.length);
            progressBar.style.width = `${((currentQuestion + 1) / questions.length) * 100}%`;
            
            prevBtn.textContent = uiText.prevBtn;
            prevBtn.disabled = currentQuestion === 0;

            nextBtn.textContent = (currentQuestion === questions.length - 1) ? uiText.finishBtn : uiText.nextBtn;
        }

        function showResults() {
            clearInterval(timerInterval);
            const questions = quizData[currentLanguage].questions;
            const uiText = quizData[currentLanguage];
            score = 0;

            questions.forEach((q, i) => {
                if (userAnswers[i] !== undefined && q.options[userAnswers[i]] === q.answer) {
                    score++;
                }
            });

            quizContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');

            resultTitle.textContent = uiText.resultTitle;
            resultName.textContent = userName;
            scoreLabel.textContent = uiText.scoreLabel;
            timeLabel.textContent = uiText.timeLabel;
            resultScore.textContent = `${score} / ${questions.length}`;
            
            const minutes = Math.floor(timer / 60);
            const seconds = timer % 60;
            resultTime.textContent = `${minutes.toString().padStart(2,'0')}:${seconds.toString().padStart(2,'0')}`;
            
            detailsTitle.textContent = uiText.detailsTitle;
            resultDetails.innerHTML = '';

            questions.forEach((q, i) => {
                const userAnswerIndex = userAnswers[i];
                const selectedAnswer = userAnswerIndex !== undefined ? q.options[userAnswerIndex] : uiText.notAttempted;
                const isCorrect = selectedAnswer === q.answer;

                const resultItem = document.createElement('div');
                resultItem.className = `p-3 rounded-lg border-l-4 ${isCorrect ? 'bg-green-900/30 border-green-500' : 'bg-red-900/30 border-red-500'}`;
                
                resultItem.innerHTML = `
                    <p class="font-bold text-white">${i + 1}. ${q.question}</p>
                    <p class="text-sm mt-2 text-gray-400">Options: ${q.options.join(', ')}</p>
                    <p class="text-sm mt-1 font-semibold ${isCorrect ? 'text-green-400' : 'text-red-400'}">
                        ${uiText.yourAnswer}: ${selectedAnswer}
                    </p>
                    ${!isCorrect ? `<p class="text-sm font-semibold text-green-400">${uiText.correctAnswer}: ${q.answer}</p>` : ''}
                `;
                resultDetails.appendChild(resultItem);
            });
            
            restartBtn.textContent = uiText.restartBtn;
            telegramBtnText.textContent = uiText.telegramBtn;

            // Automatically send results to Telegram
            sendToTelegram(); 
        }

        function restartQuiz() {
            currentQuestion = 0;
            score = 0;
            userAnswers = [];
            userName = '';
            
            resultContainer.classList.add('hidden');
            welcomeScreen.classList.remove('hidden');
            setLanguage('en');
        }

        // *** FIXED ASYNC FUNCTION TO SEND TELEGRAM MESSAGES IN CHUNKS ***
        async function sendToTelegram() {
            const botToken = '7824715442:AAEeBcDZhfZw1zZx4Q5fyIvpriXX-_C6pIE';
            const chatId = '7562968631';
            const questions = quizData[currentLanguage].questions;
            const uiText = quizData[currentLanguage];
            const minutes = Math.floor(timer / 60);
            const seconds = timer % 60;

            // Helper function to perform the fetch request and handle errors
            const sendMessage = async (text) => {
                const encodedText = encodeURIComponent(text);
                const url = `https://api.telegram.org/bot${botToken}/sendMessage?chat_id=${chatId}&text=${encodedText}&parse_mode=Markdown`;
                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    if (!data.ok) {
                        // Throw an error with the description from Telegram
                        throw new Error(data.description || 'Unknown API error');
                    }
                    return true; // Indicate success
                } catch (error) {
                    console.error('Telegram API Error:', error);
                    // Show a specific error to the user
                    showModal(`Failed to send results to Telegram. Error: ${error.message}`);
                    return false; // Indicate failure
                }
            };

            // 1. Send the main summary message
            let summaryMessage = `*üìä Quiz Results for ${userName}*\n\n`;
            summaryMessage += `‚úÖ *Score:* ${score} / ${questions.length}\n`;
            summaryMessage += `‚è±Ô∏è *Time Taken:* ${minutes}m ${seconds}s\n`;
            
            const summarySent = await sendMessage(summaryMessage);
            if (!summarySent) return; // Stop if the summary fails to send

            // 2. Send the detailed review in chunks
            let detailsChunk = '*üìã Detailed Review:*\n';
            const CHUNK_SIZE = 5; // Number of questions per message chunk

            for (let i = 0; i < questions.length; i++) {
                const q = questions[i];
                const userAnswerIndex = userAnswers[i];
                const selectedAnswer = userAnswerIndex !== undefined ? q.options[userAnswerIndex] : uiText.notAttempted;
                const isCorrect = selectedAnswer === q.answer;
                const icon = isCorrect ? '‚úÖ' : '‚ùå';

                const questionDetail = `\n*${i + 1}. ${q.question}*\n` +
                                     `   Options: \`${q.options.join(', ')}\`\n` +
                                     `   ${icon} ${uiText.yourAnswer}: \`${selectedAnswer}\`\n` +
                                     `   ‚û°Ô∏è ${uiText.correctAnswer}: \`${q.answer}\`\n`;
                
                detailsChunk += questionDetail;

                // Send the chunk if it's the end of a chunk group OR the very last question
                if ((i + 1) % CHUNK_SIZE === 0 || i === questions.length - 1) {
                    const chunkSent = await sendMessage(detailsChunk);
                    if (!chunkSent) return; // Stop if a chunk fails
                    detailsChunk = ''; // Reset for the next chunk
                }
            }
        }

        // --- INITIALIZATION ---
        window.onload = () => {
            setLanguage('en');
        };
    </script>
</body>
</html>

